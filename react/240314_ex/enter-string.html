<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <title>Enter String</title>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // 문자열을 입력해주세요.

    // 입력한 문자열을 input에 입력하는 타자속도가 얼마나 걸리는지 alert로 표시

    // getTime
    // enter키로 인식되도록    

    function Timer(){

      useEffect(
        () => {console.log('타이머가 시작합니다...');

          const timerStart = new Date().getTime();
          console.log('timerStart : '+timerStart);

          return () => {            
            const timerEnd = new Date().getTime();
            console.log('timerEnd : '+timerEnd);

            console.log('time took : '+((timerEnd - timerStart) / 1000))

            //const takenTime = timerStart - timerEnd
            //clearInterval(timer);
            console.log('타이머가 종료됩니다...');
          }
        },
        []
      );

    }
    
    function App(){

      const [enterString, setEnterString] = useState('');
      const [typeString, setTypeString] = useState('');
      const [pressEnter, setPressEnter] = useState(false);
            
      const answer = prompt('문자열을 입력해주세요.');


      const enteredString = (enterAnswer) => {
        enterAnswer = answer;
        console.log('entered String : ' + enterAnswer);
        setEnterString(enterAnswer);
      }

      console.log('answer : ' + answer);

      const onChangeHander = (e) => {
        
      }

      
      // 타자 입력 시작 시 타이머 시작
      

      useEffect(
        () => { 
          //console.log('타자 입력 중⌨');
          console.log('typeString : ' + typeString);
        },[typeString]
      );

      //onChange={() => setPressEnter(true)}    

      // enter 키 누르기
      const handleKeyPress = (e) => {
        if(e.key === 'Enter') {
          console.log('enter키를 클릭했습니다.');
          e.target.value == answer ? console.log('You typed right!') : console.log('You typed wrong!');
          setPressEnter(true);
          
        }else{
          console.log('enter키를 클릭하지 않았습니다.');
        }
      }

      return (answer == undefined || answer == '' || answer == ' ') ? alert('문자열을 입력하지 않았습니다.') : (
        <>          
          <h2>{answer}</h2>
          <input type="text" name="typeString" onKeyPress={handleKeyPress} />
        </>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>)
  </script>
</body>
</html>